<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/4.13.0/bodymovin.min.js"></script>

   <style>
   body, html{
  margin: 0;
  width: 100%;
  height: 500vh;

  scroll-behavior: smooth;
}
   #peshkabg{
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: auto;
}
.trigger {
  position: fixed;
  z-index: 30;
  bottom: 2vh;
  right: 20vw;
  transform: translateX(-50%);
  width: 90vw;
  padding: 15px;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  font-size: 0.7em;
}
</style>
</head>
<body>



<div id='peshkabg'></div>

   
 <script>

var winHeight = window.innerHeight;
var animDuration = winHeight * 4;
var animationData;

animationData = (function () {
    var json = null;
    $.ajax({
        'async': false,
        'global': false,
        'url': "https://assets5.lottiefiles.com/packages/lf20_hz9akawq.json",
        'dataType': "json",
        'success': function (data) {
            json = data;
        }
    });
    return json;
})(); 

var animData = {
  container: document.getElementById('peshkabg'),
  renderer: 'svg',
  loop: false,
  autoplay: false,
  animationData: animationData,
};

var anim = bodymovin.loadAnimation(animData);
window.addEventListener('scroll', function() {
  animatebodymovin(animDuration, anim);
});

function animatebodymovin(duration, animObject) {
  var scrollPosition = window.scrollY;
  var maxFrames = animObject.totalFrames;
  var frame = (maxFrames / 100) * (scrollPosition / (duration / 100));
  animObject.goToAndStop(frame, true);
}


</script>
</body>
</html>
